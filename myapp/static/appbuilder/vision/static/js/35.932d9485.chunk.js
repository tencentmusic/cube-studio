"use strict";(self.webpackChunkvite_ml_platform=self.webpackChunkvite_ml_platform||[]).push([[35],{98035:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var n=r(36222),a=r(18489),i=r(50678),s=r(72791),l=r(23695),o=r(87309),d=r(64469),c=r(83099),u=r(64564),m=r(66106),f=r(30914),x=r(20135),p=r(79286),h=r(79271),_=r(618),Z=r(80184);function v(e){var t=e.columns,r=e.data;return(0,Z.jsx)("div",{children:(0,Z.jsx)(_.Z,{columns:t,dataSource:r})})}var g=r(27623);function j(e){var t=e.columns,r=e.data;return(0,Z.jsx)("div",{children:(0,Z.jsx)(_.Z,{scroll:{x:500,y:360},pagination:!1,columns:t,dataSource:r})})}var y=r(58646),b=r(48757),I=r(38243),k=r(58105),w=r(31776),S=function(e){var t=e.visible,r=e.onCreate,n=e.onCancel,a=e.VisibleSee_title,o=y.Z.useForm(),d=(0,i.Z)(o,1)[0],c=(0,s.useState)([{label:"",value:""}]),u=(0,i.Z)(c,2),m=u[0],f=u[1],p=(0,s.useState)([{label:"",value:""}]),h=(0,i.Z)(p,2),_=h[0],v=h[1],g=(0,s.useState)([{label:"",value:""}]),j=(0,i.Z)(g,2),S=j[0],C=j[1],F=(0,s.useState)([{label:"",value:""}]),N=(0,i.Z)(F,2),E=N[0],P=N[1];return(0,s.useEffect)((function(){w.Z.featureKVDataDisplayPostQuest({class:"NAMESAPCE,REGION,DATASOURCES,ROUTERSELECT"}).then((function(e){if(0===e.retcode){var t=e.result.data.NAMESAPCE,r=e.result.data.REGION,n=e.result.data.DATASOURCES,a=e.result.data.ROUTERSELECT;C(t),P(r),f(n),v(a),l.ZP.success("\u67e5\u8be2\u6210\u529f")}else e.retmsg&&l.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))}),[]),(0,Z.jsx)(b.Z,{visible:t,title:a.title,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:n,onOk:function(){d.validateFields().then((function(e){d.resetFields(),r(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:(0,Z.jsxs)(y.Z,{form:d,name:"form_in_modal",initialValues:a.record,children:[(0,Z.jsx)(y.Z.Item,{name:"bid",label:"bid",children:(0,Z.jsx)(I.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title,placeholder:"\u8bf7\u8f93\u5165bid",style:{width:200}})}),(0,Z.jsx)(y.Z.Item,{name:"cre_time",label:"\u521b\u5efa\u65f6\u95f4",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"feature_serv_desc",label:"\u670d\u52a1\u4e2d\u6587\u540d",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"feature_serv_name",label:"\u670d\u52a1\u82f1\u6587\u540d",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"feature_serv_id",label:"ID",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"target",label:"\u670d\u52a1\u540d\u5b57",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"feature_serv_type",label:"\u670d\u52a1\u6765\u6e90\u7c7b\u578b",children:(0,Z.jsx)(k.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title,placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90",style:{width:"200px"},children:m.map((function(e){return(0,Z.jsx)(k.Z.Option,{value:e.value,children:e.label},e.label)}))})}),(0,Z.jsx)(y.Z.Item,{name:"selector_name",label:"\u8def\u7531\u9009\u62e9\u5668",children:(0,Z.jsx)(k.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title,placeholder:"\u8bf7\u9009\u62e9\u8def\u7531\u9009\u62e9\u5668",style:{width:"200px"},children:_.map((function(e){return(0,Z.jsx)(k.Z.Option,{value:e.value,children:e.label},e.value)}))})}),(0,Z.jsx)(y.Z.Item,{name:"namesapce",label:"\u547d\u540d\u7a7a\u95f4",children:(0,Z.jsx)(k.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title,placeholder:"\u8bf7\u9009\u62e9\u547d\u540d\u7a7a\u95f4",style:{width:"200px"},children:S.map((function(e){return(0,Z.jsx)(k.Z.Option,{value:e.value,children:e.label},e.value)}))})}),(0,Z.jsx)(y.Z.Item,{name:"region",label:"\u5730\u533a",children:(0,Z.jsx)(k.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title,placeholder:"\u8bf7\u9009\u62e9\u5730\u533a",style:{width:"200px"},children:E.map((function(e){return(0,Z.jsx)(k.Z.Option,{value:e.value,children:e.label},e.label)}))})}),(0,Z.jsx)(y.Z.Item,{name:"last_mod",label:"\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})}),(0,Z.jsx)(y.Z.Item,{name:"owner_rtxs",label:"\u8d23\u4efb\u4eba",children:(0,Z.jsx)(x.Z,{disabled:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"===a.title})})]})})},C={padding:"8px 0",display:"flex",alignItems:"center"};function F(){var e=(0,h.k6)(),t=(0,s.useState)({sample_id:"",strategy_ids:"",owner_rtxs:"",feature_set_desc:""}),r=(0,i.Z)(t,2),_=r[0],y=r[1],b=(0,s.useState)([]),I=(0,i.Z)(b,2),k=I[0],F=I[1],N=(0,s.useState)({sample_id:""}),E=(0,i.Z)(N,2),P=E[0],O=E[1],R=(0,s.useState)({Feature_set_idID:""}),z=(0,i.Z)(R,2),A=z[0],D=z[1],T=(0,s.useState)(!1),G=(0,i.Z)(T,2),U=G[0],H=G[1],L=(0,s.useState)([]),M=(0,i.Z)(L,2),Q=M[0],V=M[1],B=(0,s.useState)({title:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e",record:{}}),q=(0,i.Z)(B,2),J=q[0],K=q[1];function W(e){return function(t){y((0,a.Z)((0,a.Z)({},_),{},(0,n.Z)({},e,t.target.value)))}}function X(e){e.record&&"\u66f4\u6539\u7279\u5f81\u96c6\u5408\u914d\u7f6e"===e.title?(_.sample_id=e.record.feature_set_id,_.strategy_ids=e.record.feature_set_name,_.owner_rtxs=e.record.owner_rtxs,_.feature_set_desc=e.record.feature_set_desc):(_.sample_id=e.sample_id,_.strategy_ids=e.scene_name,_.owner_rtxs=e.owner_rtxs,_.feature_set_desc=e.scene_desc),w.Z.featureDisplaySetGetQuest(_.sample_id,!0,!0).then((function(e){if(0===e.retcode){var t=e.result.featureServRouter,r=e.result.groupIsomerismFeatureInfo;F(t),V(r)}else e.retmsg&&l.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))}(0,s.useEffect)((function(){var t={};e.location.state?(t=e.location.state,sessionStorage.setItem("keyIDFeatureSetConfiguration",JSON.stringify(t)),X(t),D(t),O(t)):(X(t=JSON.parse(sessionStorage.getItem("keyIDFeatureSetConfiguration")||"")),D(t),O(t))}),[]);var Y=[{title:"\u7279\u5f81\u7ec4id",dataIndex:"group_id",key:"group_id",render:function(e,t){return(0,Z.jsx)(o.Z,{onClick:function(){return ne(t)},type:"link",children:e})}},{title:"\u7279\u5f81\u7ec4\u7c7b\u578b",dataIndex:"isomerismFeatureInfoArray",key:"group_id",render:function(e,t){return t.isomerismFeatureInfoArray.length}},{title:"\u7279\u5f81\u914d\u7f6e",dataIndex:"source_type",key:"source_type",render:function(e,t){return function(e){switch(e){case"4":return"\u7edf\u4e00\u7279\u5f81";case"5":return"\u5f02\u6784\u7279\u5f81";default:return"\u672a\u77e5"}}(e)}},{title:"\u7279\u5f81\u7ec4\u540d\u79f0",dataIndex:"feature_group_name",key:"feature_group_name"},{title:"\u7279\u5f81\u7ec4\u63cf\u8ff0",dataIndex:"feature_group_desc",key:"feature_group_desc"},{title:"\u8d23\u4efb\u4eba",dataIndex:"owner_rtxs",key:"owner_rtxs"},{title:"\u7279\u5f81\u5b57\u6bb5\u8be6\u60c5",dataIndex:"isomerismFeatureInfoArray",key:"group_id",width:500,render:function(e,t){var r=[{title:"\u7279\u5f81\u5b57\u6bb5ID",dataIndex:"feature_id",key:"feature_id"},{title:"\u7279\u5f81\u5b57\u6bb5\u540d",dataIndex:"unique_feature_name",key:"unique_feature_name",ellipsis:{showTitle:!1},render:function(e){return(0,Z.jsx)(d.Z,{placement:"topLeft",title:e,children:e})}},{title:"\u552f\u4e00\u7279\u5f81\u540d",dataIndex:"feature_name",key:"feature_name",ellipsis:{showTitle:!1},render:function(e){return(0,Z.jsx)(d.Z,{placement:"topLeft",title:e,children:e})}},{title:"\u7279\u5f81\u54c8\u5e0cID",dataIndex:"hashId",key:"hashId"},{title:"\u7279\u5f81\u5b57\u6bb5\u63cf\u8ff0",dataIndex:"feature_desc",key:"feature_desc",ellipsis:{showTitle:!1},render:function(e){return(0,Z.jsx)(d.Z,{placement:"topLeft",title:e,children:e})}}];return(0,Z.jsx)(j,{columns:r,data:t.isomerismFeatureInfoArray})}},{title:"Action",key:"action",render:function(e,t){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.Z,{size:"middle",children:(0,Z.jsx)(o.Z,{size:"middle",onClick:function(){return ee(t)},type:"link",children:"Edit"})}),(0,Z.jsx)(c.Z,{size:"middle",children:(0,Z.jsx)(o.Z,{size:"middle",onClick:function(){return re(t)},type:"link",children:"delete"})})]})}}];var $=[{title:"id",dataIndex:"feature_serv_id",key:"feature_serv_id",width:60,render:function(e,t){return(0,Z.jsx)(o.Z,{onClick:function(){return function(e){K((0,a.Z)((0,a.Z)({},e),{},{title:"\u67e5\u770b\u7279\u5f81\u914d\u7f6e"})),H(!0)}({record:t})},type:"link",children:e})}},{title:"\u670d\u52a1\u540d\u5b57",dataIndex:"feature_serv_name",key:"feature_serv_name",width:100},{title:"\u670d\u52a1\u7c7b\u578b",dataIndex:"feature_serv_type",key:"feature_serv_type",width:100,render:function(e){return function(e){switch(e){case"4":return"\u7edf\u4e00\u7279\u5f81";case"5":return"\u5f02\u6784\u7279\u5f81";default:return"\u5176\u4ed6"}}(e)}},{title:"\u8d23\u4efb\u4eba",dataIndex:"owner_rtxs",key:"owner_rtxs"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"cre_time",key:"cre_time",width:120},{title:"\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4",dataIndex:"last_mod",key:"last_mod",width:120},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.Z,{size:"middle",children:(0,Z.jsx)(o.Z,{type:"link",onClick:function(){return K({title:"\u4fee\u6539\u8def\u7531\u914d\u7f6e",record:t}),void H(!0)},children:"Edit"})}),(0,Z.jsx)(c.Z,{size:"middle",children:(0,Z.jsx)(o.Z,{size:"middle",onClick:function(){return te(t)},type:"link",children:"delete"})})]})}}],ee=function(t){e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/ReFeatureInformation",state:(0,a.Z)((0,a.Z)({},t),{},{ReFeatureInformationTitle:"\u4fee\u6539\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"})})},te=function(e){var t={feature_serv_id:e.feature_serv_id,isDel:1};w.Z.featureRegisterFeatureServRouterPostQuest(t).then((function(e){0===e.retcode?(l.ZP.success("\u5220\u9664\u6210\u529f"),X(A)):e.retmsg&&l.ZP.error("\u5220\u9664\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))},re=function(e){console.log(e,"6666");var t={group_id:e.group_id,isDel:1};w.Z.featureUpdateIsomerismFeatureFeatureInfoQUEST(t).then((function(e){0===e.retcode?(l.ZP.success("\u5220\u9664\u6ce8\u518c\u7279\u5f81\u7ec4\u4fe1\u606f"),X(A)):e.retmsg&&l.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))},ne=function(t){e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/ReFeatureInformation",state:(0,a.Z)((0,a.Z)({},t),{},{ReFeatureInformationTitle:"\u67e5\u770b\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"})})};return(0,Z.jsx)("div",{className:"SceneModelInformationClass",children:(0,Z.jsxs)("div",{className:"bodyClass",children:[(0,Z.jsx)("div",{className:"SceneHeader",children:"\u7279\u5f81\u96c6\u5408\u914d\u7f6e"}),(0,Z.jsxs)("div",{className:"site-card-border-less-wrapper",children:[(0,Z.jsx)(u.Z,{title:"\u57fa\u672c\u4fe1\u606f",bordered:!1,children:(0,Z.jsxs)(m.Z,{gutter:16,children:[(0,Z.jsx)(f.Z,{className:"gutter-row",span:12,children:(0,Z.jsxs)("div",{style:C,children:[(0,Z.jsx)("span",{style:{width:"30%"},children:"sample_id"}),(0,Z.jsx)(x.Z,{style:{width:160},value:_.sample_id,disabled:!0})]})}),(0,Z.jsx)(f.Z,{className:"gutter-row",span:12,children:(0,Z.jsxs)("div",{style:C,children:[(0,Z.jsx)("span",{style:{width:"30%"},children:"\u7279\u5f81\u96c6\u5408\u82f1\u6587\u540d"}),(0,Z.jsx)(x.Z,{placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u96c6\u5408\u82f1\u6587\u540d",style:{width:160},value:_.strategy_ids,onChange:W("strategy_ids")})]})}),(0,Z.jsx)(f.Z,{className:"gutter-row",span:12,children:(0,Z.jsxs)("div",{style:C,children:[(0,Z.jsx)("span",{style:{width:"30%"},children:"\u7279\u5f81\u96c6\u5408\u4e2d\u6587\u540d"}),(0,Z.jsx)(x.Z,{placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u96c6\u5408\u4e2d\u6587\u540d",style:{width:160},value:_.feature_set_desc,onChange:W("feature_set_desc")})]})}),(0,Z.jsx)(f.Z,{className:"gutter-row",span:12,children:(0,Z.jsxs)("div",{style:C,children:[(0,Z.jsx)("span",{style:{width:"30%"},children:"\u8d23\u4efb\u4eba"}),(0,Z.jsx)(x.Z,{placeholder:"\u8bf7\u8f93\u5165\u8d23\u4efb\u4eba",style:{width:160},value:_.owner_rtxs,onChange:W("owner_rtxs")})]})})]})}),(0,Z.jsx)(u.Z,{title:"\u8def\u7531\u914d\u7f6e",extra:(0,Z.jsx)(o.Z,{onClick:function(){e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/RegisterFeaturePullService",state:(0,a.Z)({},A)})},children:(0,Z.jsx)(p.Z,{})}),bordered:!1,children:(0,Z.jsx)(v,{columns:$,data:k})}),(0,Z.jsx)(u.Z,{title:"\u7279\u5f81\u914d\u7f6e",extra:(0,Z.jsx)(o.Z,{onClick:function(){e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/ReFeatureInformation",state:(0,a.Z)((0,a.Z)({},A),{},{ReFeatureInformationTitle:"\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"})})},children:(0,Z.jsx)(p.Z,{})}),bordered:!1,children:(0,Z.jsx)(g.Z,{columns:Y,data:Q})}),(0,Z.jsxs)("div",{className:"preservationClass",children:[(0,Z.jsx)(o.Z,{style:{backgroundColor:"rgba(255, 87, 51, 1)",width:" 140px",height:"40px",marginRight:"10px"},onClick:function(){return e.go(-1)},type:"primary",children:"\u8fd4\u56de"}),(0,Z.jsx)(o.Z,{style:{backgroundColor:"rgba(255, 87, 51, 1)",width:" 140px",height:"40px"},type:"primary",onClick:function(){var t={feature_set_id:Number(P.sample_id)};_.strategy_ids&&(t=Object.assign(t,{feature_set_name:_.strategy_ids})),_.feature_set_desc&&(t=Object.assign(t,{feature_set_desc:_.feature_set_desc})),_.owner_rtxs&&(t=Object.assign(t,{owner_rtxs:_.owner_rtxs})),w.Z.featureUpdateSetPostQuest(t).then((function(t){0===t.retcode?e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/SceneModelInformation",state:e.location.state}):t.retmsg&&l.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(t.retmsg))}))},children:"\u4fdd\u5b58"})]}),(0,Z.jsx)(S,{visible:U,onCreate:function(e){if("\u4fee\u6539\u8def\u7531\u914d\u7f6e"===J.title){var t=(0,a.Z)((0,a.Z)({},e),{},{feature_serv_id:Number(e.feature_serv_id)});w.Z.featureRegisterFeatureServRouterPostQuest(t).then((function(e){0===e.retcode?(H(!1),l.ZP.success("\u4fee\u6539\u8def\u7531\u914d\u7f6e\u6210\u529f"),X(A)):e.retmsg&&l.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))}H(!1)},VisibleSee_title:J,onCancel:function(){H(!1)}})]})]})})}},27623:function(e,t,r){r.d(t,{Z:function(){return i}});r(72791);var n=r(618),a=r(80184);function i(e){var t=e.columns,r=e.data;return(0,a.jsx)("div",{children:(0,a.jsx)(n.Z,{pagination:!1,columns:t,dataSource:r})})}},83099:function(e,t,r){r.d(t,{u:function(){return x},Z:function(){return h}});var n=r(87462),a=r(4942),i=r(29439),s=r(72791),l=r(81694),o=r.n(l),d=r(85501),c=r(24886);function u(e){var t=e.className,r=e.direction,i=e.index,l=e.marginDirection,o=e.children,d=e.split,c=e.wrap,u=s.useContext(x),m=u.horizontalSize,f=u.verticalSize,p=u.latestIndex,h={};return u.supportFlexGap||("vertical"===r?i<p&&(h={marginBottom:m/(d?2:1)}):h=(0,n.Z)((0,n.Z)({},i<p&&(0,a.Z)({},l,m/(d?2:1))),c&&{paddingBottom:f})),null===o||void 0===o?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:h},o),i<p&&d&&s.createElement("span",{className:"".concat(t,"-split"),style:h},d))}var m=r(19911),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},x=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),p={small:8,middle:16,large:24};var h=function(e){var t,r=s.useContext(c.E_),l=r.getPrefixCls,h=r.space,_=r.direction,Z=e.size,v=void 0===Z?(null===h||void 0===h?void 0:h.size)||"small":Z,g=e.align,j=e.className,y=e.children,b=e.direction,I=void 0===b?"horizontal":b,k=e.prefixCls,w=e.split,S=e.style,C=e.wrap,F=void 0!==C&&C,N=f(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),E=(0,m.Z)(),P=s.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(e){return function(e){return"string"===typeof e?p[e]:e||0}(e)}))}),[v]),O=(0,i.Z)(P,2),R=O[0],z=O[1],A=(0,d.Z)(y,{keepEmpty:!0}),D=void 0===g&&"horizontal"===I?"center":g,T=l("space",k),G=o()(T,"".concat(T,"-").concat(I),(t={},(0,a.Z)(t,"".concat(T,"-rtl"),"rtl"===_),(0,a.Z)(t,"".concat(T,"-align-").concat(D),D),t),j),U="".concat(T,"-item"),H="rtl"===_?"marginLeft":"marginRight",L=0,M=A.map((function(e,t){return null!==e&&void 0!==e&&(L=t),s.createElement(u,{className:U,key:"".concat(U,"-").concat(t),direction:I,index:t,marginDirection:H,split:w,wrap:F},e)})),Q=s.useMemo((function(){return{horizontalSize:R,verticalSize:z,latestIndex:L,supportFlexGap:E}}),[R,z,L,E]);if(0===A.length)return null;var V={};return F&&(V.flexWrap="wrap",E||(V.marginBottom=-z)),E&&(V.columnGap=R,V.rowGap=z),s.createElement("div",(0,n.Z)({className:G,style:(0,n.Z)((0,n.Z)({},V),S)},N),s.createElement(x.Provider,{value:Q},M))}}}]);