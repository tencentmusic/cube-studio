"use strict";(self.webpackChunkvite_ml_platform=self.webpackChunkvite_ml_platform||[]).push([[413],{44541:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(50678),l=n(72791),r=n(20135),s=n(58646),i=n(58105),o=n(13295),d=n(73231),u=n(87309),c=n(71939),m=n.n(c),f=n(80184),p=r.Z.TextArea;function y(e){var t=s.Z.useForm(),n=(0,a.Z)(t,1)[0],c=(0,l.useState)({}),y=(0,a.Z)(c,2),x=y[0],b=y[1],_=(0,l.useRef)(null);(0,l.useEffect)((function(){n.resetFields(),n.setFieldsValue(e.form),e.form.map_config&&b(JSON.parse(JSON.stringify(e.form.map_config))),e.saveFrom&&e.saveFrom.graph_name&&n.setFieldsValue(e.saveFrom)}),[]);return(0,f.jsx)("div",{children:(0,f.jsxs)(s.Z,{name:"basic",labelCol:{span:8},style:{width:"80%"},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){e.submitForm(t,e.opName)},onFinishFailed:function(){console.log("\u5931\u8d25")},autoComplete:"off",ref:_,form:n,children:[e.formRolue.map((function(t){switch(t.type){case"input":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,initialValue:e.form[t.name],rules:[{required:!0,message:"\u8bf7\u8f93\u5165"+t.label}],children:(0,f.jsx)(r.Z,{disabled:!(!e.disableds&&!1!==e.isadd)})},t.name);case"select":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"+t.label}],children:(0,f.jsx)(i.Z,{disabled:!(!e.disableds&&!1!==e.isadd),children:t.options?t.options.map((function(e){return(0,f.jsx)(i.Z.Option,{value:e.value,children:e.label},e.value)})):null})},t.name);case"picker":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"+t.label}],children:(0,f.jsx)(o.Z,{style:{width:"100%"}})},t.name);case"radio":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"+t.label}],children:(0,f.jsx)(d.ZP.Group,{disabled:!(!e.disableds&&!1!==e.isadd),children:t.options?t.options.map((function(e){return(0,f.jsx)(d.ZP,{value:e.value,children:e.label},e.value)})):null})},t.name);case"json":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,children:(0,f.jsx)(m(),{src:x,displayDataTypes:!1,theme:"railscasts",onEdit:function(e){return function(e){return console.log(e),!0}(e)},onAdd:function(e){return function(e){return console.log(e),!0}(e)}})},t.name);case"textArea":return(0,f.jsx)(s.Z.Item,{label:t.label,name:t.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165"+t.label}],children:(0,f.jsx)(p,{rows:4,disabled:!(!e.disableds&&!1!==e.isadd)})},t.name)}})),(0,f.jsxs)(s.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[0===e.stepCurrent?(0,f.jsx)(u.Z,{onClick:function(){e.setEditStatus(!1),e.setBaseForm&&e.setBaseForm({})},children:"\u8fd4\u56de"}):null,0===e.stepCurrent?(0,f.jsx)(u.Z,{htmlType:"submit",style:{marginLeft:"20px"},children:"\u4e0b\u4e00\u6b65"}):null]}),e.stepCurrent&&0!==e.stepCurrent?(0,f.jsx)(u.Z,{type:"primary",children:"\u63d0\u4ea4"}):null,e.isadd&&void 0===e.stepCurrent?(0,f.jsx)(u.Z,{htmlType:"submit",type:"primary",disabled:!(!e.disableds&&!1!==e.isadd),children:"\u63d0\u4ea4"}):null]})]})})}},35413:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(18489),l=n(50678),r=n(72791),s=n(23695),i=n(47528),o=n(83099),d=n(28183),u=n(64564),c=n(618),m=n(48757),f=n(87309),p=n(99154),y=n(44541),x=n(60238),b={factory_name:"",from_node_factory:"",to_node_factory:"",admin:"",status:0,time:""},_=[{type:"input",name:"factory_name",label:"\u8fb9\u5de5\u5382\u540d"},{type:"input",name:"from_node_factory",label:"Form\u8282\u70b9"},{type:"input",name:"to_node_factory",label:"To\u8282\u70b9"},{type:"input",name:"admin",label:"\u8d1f\u8d23\u4eba"},{type:"select",name:"status",label:"\u72b6\u6001",options:[{value:-1,label:"\u5931\u6548"},{value:0,label:"\u6709\u6548"},{value:1,label:"\u521b\u5efa\u6210\u529f"},{value:2,label:"\u6d4b\u8bd5\u53d1\u5e03"},{value:3,label:"\u6b63\u5f0f\u53d1\u5e03"},{value:4,label:"\u516c\u6709"},{value:5,label:"\u79c1\u6709"}]},{type:"rangePicker",name:"time",label:"\u66f4\u65b0\u65f6\u95f4"}],h=n(17097),Z=n(80184);function j(){var e=(0,r.useState)(!1),t=(0,l.Z)(e,2),n=t[0],j=t[1],v=(0,r.useState)([]),g=(0,l.Z)(v,2),k=g[0],T=g[1],C=(0,r.useState)({}),I=(0,l.Z)(C,2),F=I[0],w=I[1],q=[{title:"#",dataIndex:"bussiness_id",key:"bussiness_id",render:function(e,t,n){return(0,Z.jsx)("a",{children:n+1+""})}},{title:"\u8fb9\u5de5\u5382\u540d",fType:"input",dataIndex:"factory_name",key:"factory_name"},{title:"\u6587\u6863\u5730\u5740",fType:"input",dataIndex:"url",key:"url",render:function(e){return(0,Z.jsx)(i.Z,{color:h.a[e]?h.a[e]:"",children:h.Q[e]?h.Q[e]:""})}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:function(e){return h.Q[e]?h.Q[e]:""}},{title:"Form\u8282\u70b9",fType:"input",dataIndex:"from_node_factory",key:"from_node_factory"},{title:"To\u8282\u70b9",fType:"input",dataIndex:"to_node_factory",key:"to_node_factory"},{title:"\u8d1f\u8d23\u4eba",fType:"input",dataIndex:"admin",key:"admin"},{title:"\u63cf\u8ff0",fType:"textArea",dataIndex:'"des',key:'"des'},{title:"\u66f4\u65b0\u65f6\u95f4",fType:"input",dataIndex:"updated_time",key:"updated_time"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return(0,Z.jsxs)(o.Z,{size:"middle",children:[(0,Z.jsx)("a",{onClick:function(){w((0,a.Z)({},t)),j(!0)},children:"\u67e5\u770b"},"view"),(0,Z.jsx)("span",{style:{color:"#999",marginTop:"-1px"},children:" | "}),(0,Z.jsx)(d.Z,{title:"\u662f\u5426\u5220\u9664?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){!function(e){var t={opr:"delete_edge_factory",data:{type:e.type,factory_name:e.factory_name}};x.Z.delete_edge_factory(t).then((function(e){console.log(e),0===e.status?s.ZP.success(e.message):s.ZP.error(e.message)}))}(t)},children:(0,Z.jsx)("a",{href:"#",children:"\u5220\u9664"},"del")}),","]})}}],S=q.filter((function(e){return e.fType})).map((function(e){return{type:e.fType,name:e.dataIndex,label:e.title}})),P=function(e){var t=e.admin,n=e.factory_name,a=e.status,l=e.time,r=e.type,i={from_node_factory:e.from_node_factory||"",to_node_factory:e.to_node_factory||"",admin:t||"",factory_name:n||"",status:a||0,type:r||"",min_updated_time:l&&l[0]?new Date(l[0]).getTime():0,max_updated_time:l&&l[1]?new Date(l[1]).getTime():0};x.Z.query_edge_factorys({opr:"query_edge_factorys",data:i}).then((function(e){0===e.status?(T(e.data.results),s.ZP.success(e.message)):s.ZP.error(e.message)}))};return(0,r.useEffect)((function(){P({})}),[]),(0,Z.jsxs)("div",{style:{padding:"30px 40px"},children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(u.Z,{title:"\u67e5\u8be2\u6761\u4ef6",children:(0,Z.jsx)(p.Z,{formRolue:_,form:b,queryList:P})}),(0,Z.jsx)(u.Z,{title:"\u67e5\u8be2\u7ed3\u679c",style:{marginTop:"20px"},children:(0,Z.jsx)(c.Z,{columns:q,dataSource:k},"bussiness_id")})]}),(0,Z.jsx)(m.Z,{title:"Basic Modal",visible:n,onCancel:function(){j(!1)},footer:[(0,Z.jsx)(f.Z,{onClick:function(){j(!1)},children:"\u5173\u95ed"},"back")],children:(0,Z.jsx)(y.Z,{formRolue:S,form:F,disableds:!0})})]})}}}]);