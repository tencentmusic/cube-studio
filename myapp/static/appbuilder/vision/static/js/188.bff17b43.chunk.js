"use strict";(self.webpackChunkvite_ml_platform=self.webpackChunkvite_ml_platform||[]).push([[188],{52188:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(36222),r=n(18489),s=n(50678),i=n(72791),o=n(23695),l=n(87309),c=n(64564),d=n(66106),u=n(30914),f=n(20135),p=n(618),x=n(48757),h=n(31776),g=n(79271),m=n(80184),Z={padding:"8px 0",display:"flex",alignItems:"center"};function v(){var e=(0,g.k6)(),t=(0,g.UO)(),n=(0,i.useState)({Total:0,Scenes:[]}),v=(0,s.Z)(n,2),k=v[0],y=v[1],I=(0,i.useState)({scene_id:void 0}),_=(0,s.Z)(I,2),j=_[0],w=_[1],S=(0,i.useState)(!1),C=(0,s.Z)(S,2),N=C[0],b=C[1],D=(0,i.useState)(Number),P=(0,s.Z)(D,2),T=P[0],O=P[1],Q=(0,i.useState)(1),H=(0,s.Z)(Q,2),K=H[0],R=(H[1],(0,i.useState)(10)),F=(0,s.Z)(R,2),J=F[0],M=(F[1],(0,i.useState)({strategy_ids:[],component_marks:[],admins:[],versionDesc:""})),B=(0,s.Z)(M,2),E=B[0],G=B[1],U=function(e){return function(t){var n=null;n="versionDesc"===e?t.target.value:t.target.value.split(";").splice(""),G((0,r.Z)((0,r.Z)({},E),{},(0,a.Z)({},e,n)))}};function q(e,t,n,a){h.Z.featureScenePagesDisplayPostQuest(e,t,n,a).then((function(e){0===e.retcode?(y(e.result),o.ZP.success("\u67e5\u8be2\u6210\u529f")):e.retmsg&&o.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))}(0,i.useEffect)((function(){var n={};console.log(e.location,"888",t);var a=e.location.search.split("?")[e.location.search.split("?").length-1];e.location.state?(n=e.location.state||a,sessionStorage.setItem("NationalkaraokeKeyID",JSON.stringify(n)),console.log(n,"11111111111"),O(n),q(K,J,E.strategy_ids,n)):(n=JSON.parse(sessionStorage.getItem("NationalkaraokeKeyID")||a),console.log(n,"1111112222222222"),O(n),q(K,J,E.strategy_ids,n))}),[]);var z=[{title:"\u573a\u666fid",dataIndex:"scene_id",width:"80px",render:function(t,n){return(0,m.jsx)(l.Z,{onClick:function(){return t=n,void e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/SceneModelInformation",state:(0,r.Z)((0,r.Z)({},t),{},{ReFeatureInformationTitle:"\u67e5\u770b\u573a\u666f\u6a21\u578b\u914d\u7f6e\u4fe1\u606f"})});var t},type:"link",children:t})}},{title:"\u573a\u666f\u82f1\u6587\u540d",dataIndex:"scene_name"},{title:"\u573a\u666f\u4e2d\u6587\u540d",dataIndex:"scene_desc"},{title:"\u7279\u5f81\u4e0a\u62a5\u5b57\u6bb5",dataIndex:"report_field"},{title:"\u7279\u5f81\u4e0a\u62a5bid",dataIndex:"bid"},{title:"\u7279\u5f81\u4e0a\u62a5tid",dataIndex:"tid"},{title:"\u8d23\u4efb\u4eba",dataIndex:"owner_rtxs"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"cre_time",width:"110px"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"last_mod",width:"110px"},{title:"\u6240\u5c5e\u4e1a\u52a1",dataIndex:"business",render:function(e,t){return function(e){switch(e){case 1:return"QQ\u97f3\u4e50";case 2:return"\u5168\u6c11K\u6b4c";default:return"\u672a\u77e5"}}(e)}},{title:"\u6a21\u578b\u670d\u52a1\u8def\u7531id",dataIndex:"resource_info"},{title:"\u7279\u5f81\u96c6\u5408\uff08\u6837\u672c\uff09\u7684id",dataIndex:"sample_id",width:100},{title:"operation",dataIndex:"operation",render:function(t,n){return(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,m.jsx)(l.Z,{type:"link",onClick:function(){return t=n,console.log(t,"1111111"),void e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/SceneModelInformation",state:(0,r.Z)((0,r.Z)({},t),{},{ReFeatureInformationTitle:"\u4fee\u6539\u573a\u666f\u6a21\u578b\u914d\u7f6e\u4fe1\u606f"})});var t},children:"\u7f16\u8f91"}),(0,m.jsx)(l.Z,{type:"link",onClick:function(){return A(n)},children:"\u751f\u6210\u914d\u7f6e"}),(0,m.jsx)(l.Z,{type:"link",onClick:function(){return L(n)},children:"\u4e0b\u8f7d\u914d\u7f6e"})]})}}];var A=function(e){w(e),b(!0)},L=function(e){window.open("http://11.161.238.209:8080/api/featureDownConfiguration?sceneId=".concat(e.scene_id))};return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"site-card-border-less-wrapper",children:[(0,m.jsx)(c.Z,{bordered:!1,children:(0,m.jsxs)(d.Z,{gutter:16,children:[(0,m.jsx)(u.Z,{className:"gutter-row",span:6,children:(0,m.jsxs)("div",{style:Z,children:[(0,m.jsx)("span",{style:{width:"20%"},children:"\u8d23\u4efb\u4eba"}),(0,m.jsx)(f.Z,{placeholder:"\u8bf7\u8f93\u5165\u7b56\u7565ID",value:E.strategy_ids,onChange:U("strategy_ids")})]})}),(0,m.jsx)(u.Z,{className:"gutter-row2",span:4,children:(0,m.jsx)(l.Z,{type:"primary",style:{marginTop:"8px"},onClick:function(){q(K,J,E.strategy_ids,T)},children:"\u67e5\u8be2"})}),(0,m.jsx)(u.Z,{className:"gutter-row2",span:4,offset:10,children:(0,m.jsx)(l.Z,{type:"primary",style:{marginTop:"8px"},onClick:function(){e.push({pathname:"/HeterogeneousPlatform/Nationalkaraoke/SceneRegistration",state:e.location.state})},children:"\u65b0\u5efa"})})]})}),(0,m.jsx)(c.Z,{bordered:!1,className:"cardTwo",children:(0,m.jsx)(p.Z,{scroll:{x:"100%"},pagination:{total:k.Total,onChange:function(e,t){return function(e,t){q(e,t,E.strategy_ids,T)}(e,t)}},bordered:!0,dataSource:k.Scenes,columns:z,rowClassName:"editable-row"})}),(0,m.jsx)(x.Z,{okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",title:"\u586b\u5199\u7248\u672c\u4fe1\u606f",visible:N,onOk:function(){if(""===E.versionDesc)return o.ZP.error("\u586b\u5199\u7248\u672c\u4fe1\u606f");h.Z.featureBuildConfigurationGetQuest(j.scene_id,E.versionDesc).then((function(e){0===e.retcode?(o.ZP.success("\u751f\u6210\u914d\u7f6e\u6210\u529f"),b(!1)):e.retmsg&&o.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))},onCancel:function(){b(!1)},children:(0,m.jsx)(f.Z,{value:E.versionDesc,onChange:U("versionDesc"),placeholder:"\u8bf7\u586b\u5199\u7248\u672c\u4fe1\u606f"})})]})})}}}]);