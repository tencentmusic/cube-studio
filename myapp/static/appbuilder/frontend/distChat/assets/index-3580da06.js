import{c as O,a as x,ai as H,aj as L,d as B,u as Y,g as W,ak as K,h as k,al as q,am as Q,i as X,an as Z,l as h,ao as ee,T as te,a2 as se,A as ne,O as ie,a1 as ae,r as $,B as I,C as P,J as e,Q as u,S as n,D as t,N as R,W as p,ac as g,ad as y,R as oe,_ as w,ap as le,I as re,a9 as ce,aq as de,P as N,$ as pe,F as E,ar as ue,as as me,at as V,au as fe,av as ve}from"./index-bb4d1836.js";const he=O([O("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),x("spin-container",{position:"relative"},[x("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[H()])]),x("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),x("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[L("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),x("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),x("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[L("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),ge={small:20,medium:18,large:16},ye=Object.assign(Object.assign({},W.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),ke=B({name:"Spin",props:ye,setup(o){const{mergedClsPrefixRef:l,inlineThemeDisabled:i}=Y(o),r=W("Spin","-spin",he,K,o,l),m=k(()=>{const{size:a}=o,{common:{cubicBezierEaseInOut:v},self:b}=r.value,{opacitySpinning:C,color:T,textColor:U}=b,j=typeof a=="number"?q(a):b[Q("size",a)];return{"--n-bezier":v,"--n-opacity-spinning":C,"--n-size":j,"--n-color":T,"--n-text-color":U}}),f=i?X("spin",k(()=>{const{size:a}=o;return typeof a=="number"?String(a):a[0]}),m,o):void 0;return{mergedClsPrefix:l,compitableShow:Z(o,["spinning","show"]),mergedStrokeWidth:k(()=>{const{strokeWidth:a}=o;if(a!==void 0)return a;const{size:v}=o;return ge[typeof v=="number"?"medium":v]}),cssVars:i?void 0:m,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var o,l;const{$slots:i,mergedClsPrefix:r,description:m}=this,f=i.icon&&this.rotate,a=(m||i.description)&&h("div",{class:`${r}-spin-description`},m||((o=i.description)===null||o===void 0?void 0:o.call(i))),v=i.icon?h("div",{class:[`${r}-spin-body`,this.themeClass]},h("div",{class:[`${r}-spin`,f&&`${r}-spin--rotate`],style:i.default?"":this.cssVars},i.icon()),a):h("div",{class:[`${r}-spin-body`,this.themeClass]},h(ee,{clsPrefix:r,style:i.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${r}-spin`}),a);return(l=this.onRender)===null||l===void 0||l.call(this),i.default?h("div",{class:[`${r}-spin-container`,this.themeClass],style:this.cssVars},h("div",{class:[`${r}-spin-content`,this.compitableShow&&`${r}-spin-content--spinning`]},i),h(te,{name:"fade-in-transition"},{default:()=>this.compitableShow?v:null})):v}});function be(){const o=new Date,l=o.getDate(),i=o.getMonth()+1;return`${o.getFullYear()}-${i}-${l}`}const _e={class:"p-4 space-y-5 min-h-[200px]"},xe={class:"space-y-6"},we={class:"flex items-center space-x-4"},$e={class:"flex-shrink-0 w-[100px]"},Ce={class:"flex-1"},Se={class:"flex items-center space-x-4"},ze={class:"flex-shrink-0 w-[100px]"},Ne={class:"w-[200px]"},Ie={class:"flex items-center space-x-4"},Be={class:"flex-shrink-0 w-[100px]"},Te={class:"flex-1"},Ue={class:"flex-shrink-0 w-[100px]"},je={class:"flex flex-wrap items-center gap-4"},De={class:"flex items-center space-x-4"},Re={class:"flex-shrink-0 w-[100px]"},Oe={class:"flex flex-wrap items-center gap-4"},Le={class:"flex items-center space-x-4"},Pe={class:"flex-shrink-0 w-[100px]"},Ve={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ee={class:"flex-shrink-0 w-[100px]"},Fe=B({__name:"General",setup(o){const l=se(),i=ne(),{isMobile:r}=ie(),m=ae(),f=k(()=>l.theme),a=k(()=>i.userInfo),v=$(a.value.avatar??""),b=$(a.value.name??""),C=$(a.value.description??""),T=k({get(){return l.language},set(s){l.setLanguage(s)}}),U=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],j=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function D(s){i.updateUserInfo(s),m.success(N("common.success"))}function F(){i.resetUserInfo(),m.success(N("common.success")),window.location.reload()}function M(){const s=be(),c=localStorage.getItem("chatStorage")||"{}",d=JSON.stringify(JSON.parse(c),null,2),_=new Blob([d],{type:"application/json"}),z=URL.createObjectURL(_),S=document.createElement("a");S.href=z,S.download=`chat-store_${s}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S)}function A(s){const c=s.target;if(!c||!c.files)return;const d=c.files[0];if(!d)return;const _=new FileReader;_.onload=()=>{try{const z=JSON.parse(_.result);localStorage.setItem("chatStorage",JSON.stringify(z)),m.success(N("common.success")),location.reload()}catch{m.error(N("common.invalidFileFormat"))}},_.readAsText(d)}function G(){localStorage.removeItem("chatStorage"),location.reload()}function J(){const s=document.getElementById("fileInput");s&&s.click()}return(s,c)=>(I(),P("div",_e,[e("div",xe,[e("div",we,[e("span",$e,u(s.$t("setting.avatarLink")),1),e("div",Ce,[n(t(R),{value:v.value,"onUpdate:value":c[0]||(c[0]=d=>v.value=d),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:c[1]||(c[1]=d=>D({avatar:v.value}))},{default:p(()=>[g(u(s.$t("common.save")),1)]),_:1})]),e("div",Se,[e("span",ze,u(s.$t("setting.name")),1),e("div",Ne,[n(t(R),{value:b.value,"onUpdate:value":c[2]||(c[2]=d=>b.value=d),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:c[3]||(c[3]=d=>D({name:b.value}))},{default:p(()=>[g(u(s.$t("common.save")),1)]),_:1})]),e("div",Ie,[e("span",Be,u(s.$t("setting.description")),1),e("div",Te,[n(t(R),{value:C.value,"onUpdate:value":c[4]||(c[4]=d=>C.value=d),placeholder:""},null,8,["value"])]),n(t(y),{size:"tiny",text:"",type:"primary",onClick:c[5]||(c[5]=d=>D({description:C.value}))},{default:p(()=>[g(u(s.$t("common.save")),1)]),_:1})]),e("div",{class:oe(["flex items-center space-x-4",t(r)&&"items-start"])},[e("span",Ue,u(s.$t("setting.chatHistory")),1),e("div",je,[n(t(y),{size:"small",onClick:M},{icon:p(()=>[n(t(w),{icon:"ri:download-2-fill"})]),default:p(()=>[g(" "+u(s.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:A},null,32),n(t(y),{size:"small",onClick:J},{icon:p(()=>[n(t(w),{icon:"ri:upload-2-fill"})]),default:p(()=>[g(" "+u(s.$t("common.import")),1)]),_:1}),n(t(le),{placement:"bottom",onPositiveClick:G},{trigger:p(()=>[n(t(y),{size:"small"},{icon:p(()=>[n(t(w),{icon:"ri:close-circle-line"})]),default:p(()=>[g(" "+u(s.$t("common.clear")),1)]),_:1})]),default:p(()=>[g(" "+u(s.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",De,[e("span",Re,u(s.$t("setting.theme")),1),e("div",Oe,[(I(),P(re,null,ce(U,d=>n(t(y),{key:d.key,size:"small",type:d.key===t(f)?"primary":void 0,onClick:_=>t(l).setTheme(d.key)},{icon:p(()=>[n(t(w),{icon:d.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",Le,[e("span",Pe,u(s.$t("setting.language")),1),e("div",Ve,[n(t(de),{style:{width:"140px"},value:t(T),options:j,onUpdateValue:c[6]||(c[6]=d=>t(l).setLanguage(d))},null,8,["value"])])]),e("div",We,[e("span",Ee,u(s.$t("setting.resetUserInfo")),1),n(t(y),{size:"small",onClick:F},{default:p(()=>[g(u(s.$t("common.reset")),1)]),_:1})])])]))}}),Me="chatgpt-web",Ae="2.10.8",Ge="ChatGPT Web",Je="ChenZhaoYu <chenzhaoyu1994@gmail.com>",He=["chatgpt-web","chatgpt","chatbot","vue"],Ye={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},Ke={"@traptitech/markdown-it-katex":"^3.6.0","@types/js-cookie":"^3.0.3","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1","js-cookie":"^3.0.1",katex:"^0.16.4","markdown-it":"^13.0.1",mitt:"^3.0.0","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},qe={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},Qe={name:Me,version:Ae,private:!1,description:Ge,author:Je,keywords:He,scripts:Ye,dependencies:Ke,devDependencies:qe,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},Xe={class:"p-4 space-y-4"},Ze={class:"text-xl font-bold"},et=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p")],-1),tt=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},null,-1),st=B({__name:"About",setup(o){const l=$(!1),i=$();async function r(){try{l.value=!0;const{data:m}=await ue();i.value=m}finally{l.value=!1}}return pe(()=>{r()}),(m,f)=>(I(),E(t(ke),{show:l.value},{default:p(()=>[e("div",Xe,[e("h2",Ze," Version - "+u(t(Qe).version),1),et,tt])]),_:1},8,["show"]))}}),nt={class:"ml-2"},it={class:"min-h-[100px]"},at={class:"ml-2"},lt=B({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(o,{emit:l}){const i=o,r=$("General"),m=k({get(){return i.visible},set(f){l("update:visible",f)}});return(f,a)=>(I(),E(t(ve),{show:t(m),"onUpdate:show":a[1]||(a[1]=v=>fe(m)?m.value=v:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:p(()=>[e("div",null,[n(t(me),{value:r.value,"onUpdate:value":a[0]||(a[0]=v=>r.value=v),type:"line",animated:""},{default:p(()=>[n(t(V),{name:"General",tab:"General"},{tab:p(()=>[n(t(w),{class:"text-lg",icon:"ri:file-user-line"}),e("span",nt,u(f.$t("setting.general")),1)]),default:p(()=>[e("div",it,[n(Fe)])]),_:1}),n(t(V),{name:"Config",tab:"Config"},{tab:p(()=>[n(t(w),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",at,u(f.$t("setting.config")),1)]),default:p(()=>[n(st)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{lt as default};
